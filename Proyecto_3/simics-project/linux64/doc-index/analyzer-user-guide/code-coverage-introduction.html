<!doctype html>
<head>
<meta charset="utf-8">
<title>4.1 Code coverage introduction</title>
<link rel="stylesheet" href="simics.css">
<script>function postUrl() {
    window.parent.postMessage({ content_url: window.location.href }, "*");
}
if (window.parent != null && window.parent != window) {
    postUrl();
    window.addEventListener("hashchange", function () {
        postUrl();
    });
} else {
    // Check if we are part of a Simics doc site and redirect if we are
    fetch("../simics-doc-site-marker", { method: "HEAD" }).then(response => {
        if (response.ok) {
            window.location = "..#" + window.location.href;
        } else {
            console.info("Not part of a Simics documentation site");
        }
    }).catch(error => {
        console.warn("Failed to check if this is a Simics documentation site:",
            error);
    });
}</script>
</head>
<div class="chain">
<a href="code-coverage.html">4 Code Coverage</a>
<a href="requirements.html">4.2 Requirements</a>
</div>
<div class="path">
<a href="index.html">Analyzer User's Guide</a>
&nbsp;/&nbsp;
<a href="code-coverage.html">4 Code Coverage</a>
&nbsp;/&nbsp;</div>
<h1 id="code-coverage-introduction">4.1 <a href="#code-coverage-introduction">Code coverage introduction</a></h1>
<p>Using Simics, it is possible to do coverage analysis of the code running on the target system. This analysis is performed using the unmodified binary running on the simulated system by profiling which machine instructions are executed. The result can be presented on source level or instruction level. For instruction level it is also possible to get branch coverage and a count on how many times an instruction at a specific address has been executed. It is also possible to save reports which can later be combined with other code coverage runs or used for report creation.</p>
<p>There are many ways to use the code coverage feature, both manually and as part of an automated run. However, there are basically two different use cases. In the first case both collection and analysis is done at the same time. The second case divides the collection and analysis into two different steps, possibly even combining multiple runs into one report before doing the analysis. This has the added benefit that it is possible to get the combined coverage from multiple test runs, as long as the binaries are the same.</p>
<p>The code coverage implementation is based on the Simics debugger, which makes it possible to use context queries to specify which context the code coverage collection should be performed on. For more details about context queries, see section <a class="reference" href="talos-debugging-queries.html">3.2</a>. For most use-cases it is recommended to use one of the available OS Awareness trackers as this will provide knowledge about what is running on the system. OS Awareness is described in section <a class="reference" href="target-software-tracking.html">2</a>.</p>
<p>For a list of available commands, see section <a class="reference" href="code-coverage-commands.html">4.4</a>. For a detailed walk through of common use cases, see section <a class="reference" href="code-coverage-workflow.html">4.3</a>.</p>

<div class="chain">
<a href="code-coverage.html">4 Code Coverage</a>
<a href="requirements.html">4.2 Requirements</a>
</div>